{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Box,Paper,Typography,Button,TextField,Dialog,DialogTitle,DialogContent,DialogActions,List,ListItem,ListItemText,Divider}from'@mui/material';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE_URL=process.env.REACT_APP_API_BASE_URL||'http://localhost:8000';function PRDViewer(){const[prds,setPrds]=useState([]);const[selectedPrd,setSelectedPrd]=useState(null);const[open,setOpen]=useState(false);const[generating,setGenerating]=useState(false);useEffect(()=>{loadPRDs();},[]);const loadPRDs=async()=>{try{const response=await axios.get(\"\".concat(API_BASE_URL,\"/prds\"),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});setPrds(response.data.prds);}catch(error){console.error('Error loading PRDs:',error);}};const generatePRD=async()=>{setGenerating(true);try{const response=await axios.post(\"\".concat(API_BASE_URL,\"/generate-prd\"),{requirements:\"User requirements gathered from chat discussion\"},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});await loadPRDs();setSelectedPrd(response.data);setOpen(true);}catch(error){console.error('Error generating PRD:',error);}finally{setGenerating(false);}};const validatePRD=async prdId=>{try{await axios.post(\"\".concat(API_BASE_URL,\"/prds/\").concat(prdId,\"/validate\"),{},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});await loadPRDs();}catch(error){console.error('Error validating PRD:',error);}};const approvePRD=async prdId=>{try{await axios.post(\"\".concat(API_BASE_URL,\"/prds/\").concat(prdId,\"/approve\"),{},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});// This would trigger the agent deployment workflow\nalert('PRD approved! Agent deployment workflow will start.');}catch(error){console.error('Error approving PRD:',error);}};return/*#__PURE__*/_jsxs(Paper,{sx:{p:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Product Requirements Documents (PRDs)\"}),/*#__PURE__*/_jsx(Box,{sx:{mb:3},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:generatePRD,disabled:generating,children:generating?'Generating PRD...':'Generate New PRD'})}),/*#__PURE__*/_jsx(List,{children:prds.map(prd=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(ListItem,{button:true,onClick:()=>{setSelectedPrd(prd);setOpen(true);},children:[/*#__PURE__*/_jsx(ListItemText,{primary:prd.title,secondary:\"Status: \".concat(prd.status,\" | Created: \").concat(new Date(prd.created_at).toLocaleDateString())}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:1},children:[prd.status==='draft'&&/*#__PURE__*/_jsx(Button,{size:\"small\",onClick:e=>{e.stopPropagation();validatePRD(prd.id);},children:\"Validate\"}),prd.status==='validated'&&/*#__PURE__*/_jsx(Button,{size:\"small\",color:\"success\",onClick:e=>{e.stopPropagation();approvePRD(prd.id);},children:\"Approve & Deploy\"})]})]}),/*#__PURE__*/_jsx(Divider,{})]},prd.id))}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:()=>setOpen(false),maxWidth:\"md\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:selectedPrd===null||selectedPrd===void 0?void 0:selectedPrd.title}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,rows:20,value:(selectedPrd===null||selectedPrd===void 0?void 0:selectedPrd.content)||'',InputProps:{readOnly:true},variant:\"outlined\"})}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:()=>setOpen(false),children:\"Close\"})})]})]});}export default PRDViewer;","map":{"version":3,"names":["React","useState","useEffect","Box","Paper","Typography","Button","TextField","Dialog","DialogTitle","DialogContent","DialogActions","List","ListItem","ListItemText","Divider","axios","jsx","_jsx","jsxs","_jsxs","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","PRDViewer","prds","setPrds","selectedPrd","setSelectedPrd","open","setOpen","generating","setGenerating","loadPRDs","response","get","concat","headers","Authorization","localStorage","getItem","data","error","console","generatePRD","post","requirements","validatePRD","prdId","approvePRD","alert","sx","p","children","variant","gutterBottom","mb","onClick","disabled","map","prd","Fragment","button","primary","title","secondary","status","Date","created_at","toLocaleDateString","display","gap","size","e","stopPropagation","id","color","onClose","maxWidth","fullWidth","multiline","rows","value","content","InputProps","readOnly"],"sources":["C:/Users/dmilner.AGV-040318-PC/Downloads/landon/ai_final/agentic-framework-main/dashboard/src/components/PRDViewer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Box, Paper, Typography, Button, TextField, Dialog, DialogTitle, DialogContent, DialogActions, List, ListItem, ListItemText, Divider } from '@mui/material';\r\nimport axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:8000';\r\n\r\nfunction PRDViewer() {\r\n  const [prds, setPrds] = useState([]);\r\n  const [selectedPrd, setSelectedPrd] = useState(null);\r\n  const [open, setOpen] = useState(false);\r\n  const [generating, setGenerating] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadPRDs();\r\n  }, []);\r\n\r\n  const loadPRDs = async () => {\r\n    try {\r\n      const response = await axios.get(`${API_BASE_URL}/prds`, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\r\n      });\r\n      setPrds(response.data.prds);\r\n    } catch (error) {\r\n      console.error('Error loading PRDs:', error);\r\n    }\r\n  };\r\n\r\n  const generatePRD = async () => {\r\n    setGenerating(true);\r\n    try {\r\n      const response = await axios.post(`${API_BASE_URL}/generate-prd`, {\r\n        requirements: \"User requirements gathered from chat discussion\"      }, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }      });\r\n      await loadPRDs();\r\n      setSelectedPrd(response.data);\r\n      setOpen(true);\r\n    } catch (error) {\r\n      console.error('Error generating PRD:', error);\r\n    } finally {\r\n      setGenerating(false);\r\n    }\r\n  };\r\n\r\n  const validatePRD = async (prdId) => {\r\n    try {\r\n      await axios.post(`${API_BASE_URL}/prds/${prdId}/validate`, {}, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\r\n      });\r\n      await loadPRDs();\r\n    } catch (error) {\r\n      console.error('Error validating PRD:', error);\r\n    }\r\n  };\r\n\r\n  const approvePRD = async (prdId) => {\r\n    try {\r\n      await axios.post(`${API_BASE_URL}/prds/${prdId}/approve`, {}, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\r\n      });\r\n      // This would trigger the agent deployment workflow\r\n      alert('PRD approved! Agent deployment workflow will start.');\r\n    } catch (error) {\r\n      console.error('Error approving PRD:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Paper sx={{ p: 3 }}>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Product Requirements Documents (PRDs)\r\n      </Typography>\r\n\r\n      <Box sx={{ mb: 3 }}>\r\n        <Button\r\n          variant=\"contained\"\r\n          onClick={generatePRD}\r\n          disabled={generating}\r\n        >\r\n          {generating ? 'Generating PRD...' : 'Generate New PRD'}\r\n        </Button>\r\n      </Box>\r\n\r\n      <List>\r\n        {prds.map((prd) => (\r\n          <React.Fragment key={prd.id}>\r\n            <ListItem\r\n              button\r\n              onClick={() => {\r\n                setSelectedPrd(prd);\r\n                setOpen(true);\r\n              }}\r\n            >\r\n              <ListItemText\r\n                primary={prd.title}\r\n                secondary={`Status: ${prd.status} | Created: ${new Date(prd.created_at).toLocaleDateString()}`}\r\n              />\r\n              <Box sx={{ display: 'flex', gap: 1 }}>\r\n                {prd.status === 'draft' && (\r\n                  <Button size=\"small\" onClick={(e) => { e.stopPropagation(); validatePRD(prd.id); }}>\r\n                    Validate\r\n                  </Button>\r\n                )}\r\n                {prd.status === 'validated' && (\r\n                  <Button size=\"small\" color=\"success\" onClick={(e) => { e.stopPropagation(); approvePRD(prd.id); }}>\r\n                    Approve & Deploy\r\n                  </Button>\r\n                )}\r\n              </Box>\r\n            </ListItem>\r\n            <Divider />\r\n          </React.Fragment>\r\n        ))}\r\n      </List>\r\n\r\n      <Dialog open={open} onClose={() => setOpen(false)} maxWidth=\"md\" fullWidth>\r\n        <DialogTitle>{selectedPrd?.title}</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            fullWidth\r\n            multiline\r\n            rows={20}\r\n            value={selectedPrd?.content || ''}\r\n            InputProps={{ readOnly: true }}\r\n            variant=\"outlined\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpen(false)}>Close</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default PRDViewer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}